import{a as r,j as s}from"./index-BBJX7inb.js";import{c as f}from"./createLucideIcon-BrAVhkf1.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],p=f("x",h),u=r.createContext(null);function v(n){const[m,d]=r.useState([]),o=r.useRef(new Map),i=r.useCallback(e=>{d(c=>c.filter(a=>a.id!==e));const t=o.current.get(e);t!==void 0&&(window.clearTimeout(t),o.current.delete(e))},[]),l=r.useCallback(e=>{const t=crypto.randomUUID();d(a=>[...a,{...e,id:t}]);const c=window.setTimeout(()=>{o.current.delete(t),i(t)},e.kind==="error"?7e3:4500);o.current.set(t,c)},[i]);r.useEffect(()=>{const e=o.current;return()=>{e.forEach(t=>window.clearTimeout(t)),e.clear()}},[]);const x=r.useMemo(()=>({push:l}),[l]);return s.jsxs(u.Provider,{value:x,children:[n.children,s.jsx("div",{className:"fixed right-4 top-4 z-50 flex w-[360px] max-w-[92vw] flex-col gap-2",children:m.map(e=>s.jsx("div",{className:["rounded-xl border border-border bg-surface-overlay p-4 shadow-glow-soft backdrop-blur",e.kind==="success"?"ring-1 ring-accent-bold/30":"",e.kind==="error"?"ring-1 ring-red-500/30":""].join(" "),children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-sm font-semibold text-content-primary",children:e.title}),e.detail?s.jsx("div",{className:"mt-1 break-words text-xs text-content-tertiary",children:e.detail}):null]}),s.jsx("button",{className:"rounded-md p-1 text-content-muted hover:bg-surface-subtle hover:text-content-secondary",onClick:()=>i(e.id),"aria-label":"Dismiss",children:s.jsx(p,{className:"h-4 w-4"})})]})},e.id))})]})}function j(){const n=r.useContext(u);if(!n)throw new Error("useToast must be used within ToastProvider");return n}export{v as T,p as X,j as u};
