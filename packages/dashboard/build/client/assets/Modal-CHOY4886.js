import{a as s,j as n}from"./index-BBJX7inb.js";import{X as d}from"./ToastProvider-C_5kRdyY.js";function u(t){const l=s.useRef(null),c=s.useRef(null);s.useEffect(()=>{var o;const e=l.current;if(e){if(t.open&&!e.open){e.showModal();const r=(o=c.current)==null?void 0:o.querySelector("input, textarea, select");r==null||r.focus()}!t.open&&e.open&&e.close()}},[t.open]),s.useEffect(()=>{const e=l.current;if(!e)return;const o=r=>{r.preventDefault(),t.onClose()};return e.addEventListener("cancel",o),()=>e.removeEventListener("cancel",o)},[t.onClose]);function a(e){e.key==="Enter"&&!e.shiftKey&&t.onSubmit&&(e.preventDefault(),t.onSubmit())}return n.jsxs("dialog",{ref:l,className:"fixed left-1/2 top-[20%] w-[640px] max-w-[92vw] -translate-x-1/2 rounded-2xl border border-border bg-surface-overlay p-0 text-content-primary shadow-glow-soft backdrop:bg-backdrop",onClose:t.onClose,onKeyDown:a,children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-border px-5 py-4",children:[n.jsx("div",{className:"text-sm font-semibold",children:t.title}),n.jsx("button",{className:"rounded-md p-1 text-content-muted hover:bg-surface-subtle hover:text-content-secondary",onClick:t.onClose,"aria-label":"Close",children:n.jsx(d,{className:"h-4 w-4"})})]}),n.jsx("div",{ref:c,className:"p-5",children:t.children})]})}export{u as M};
